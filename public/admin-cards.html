<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Cards â€” Herd Mentality Game</title>
  <style>
    body { font-family: Arial; max-width:900px; margin:40px auto; }
    input,button { font-size:16px; padding:8px; margin:6px 0; }
    #questionText { width:70%; max-width:700px; display:inline-block; }
    #addBtn { display:inline-block; margin-left:8px; }
    table { width:100%; border-collapse:collapse; margin-top:12px; }
    th,td { border:1px solid #ccc; padding:8px; }
    .btn { background:#333; color:#fff; padding:8px 12px; border-radius:6px; text-decoration:none; }
    .btn:hover { background:#555; }
    .bottom-bar { margin-top:20px; text-align:center; }
  </style>
</head>
<body>
  <h1>Cards</h1>
  <a class="btn" href="/admin-dashboard.html">Back to Dashboard</a>
  <div>
    <input id="questionText" placeholder="New question text" />
    <button id="addBtn">Add Question</button>
  </div>
  <table id="cardsTable">
    <thead><tr><th>ID</th><th>Question</th></tr></thead>
    <tbody></tbody>
  </table>
  <!-- Bottom back button -->
  <div class="bottom-bar">
    <a class="btn" href="/admin-dashboard.html">Back to Dashboard</a>
  </div>
  <script>
    async function loadQuestions(){
      const res=await fetch('/api/questions');
      const qs=await res.json();
      document.querySelector('#cardsTable tbody').innerHTML=qs.map(q=>`<tr><td>${q.id}</td><td>${q.prompt}</td></tr>`).join('');
    }
    document.getElementById('addBtn').onclick=async()=>{
      const text=document.getElementById('questionText').value.trim();
      if(!text) return alert('Enter a question');
      await fetch('/api/questions',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text})});
      document.getElementById('questionText').value='';
      loadQuestions();
    };
    loadQuestions();
  </script>
</body>
</html>
